<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <script src="../jQuery/jquery-3.5.1.js"></script>
</head>

<body>
  <script>


    // $.get("./data/a.json",function(res){
    //   console.log(res);
    //   $.get("./data/b.json",function(res){
    //     console.log(res);
    //     $.get("./data/c.json",function(res){
    //       console.log(res);
    //     })
    //   })
    // })

    // let promise1 = new Promise(function(resolve,reject){
    //   setTimeout(function(){
    //     // resolve();
    //     reject();
    //   },1000)
    // }).then(function(){
    //    console.log(111)
    // }).catch(function(){
    //    console.log(222);
    // })

    // let promise2 = new Promise(function(resolve,reject){
    //   setTimeout(function(){
    //     // resolve('success');
    //     reject('fall');
    //   },1000)
    // }).then(function(res){
    //    console.log(res)
    // }).catch(function(res){
    //    console.log(res);
    // })

    // let promise22 = new Promise(function(resolve,reject){
    //   setTimeout(function(){
    //     // resolve('success');
    //     reject('fall');
    //   },1000)
    // }).then(function(res){
    //    console.log(res)
    // }, function(res){
    //    console.log(res);
    // })

    // let promise3 = new Promise(function(resolve,reject){
    //   setTimeout(function(){
    //     $.get("./data/c.json",function(res){
    //       console.log(res);
    //       if(res){
    //         resolve(res);
    //       }
    //       else{
    //         reject(res);
    //       }
    //     })
    //   },1000)
    // }).then(function(res){
    //    console.log(res)
    // }).catch(function(res){
    //    console.log(res);
    // })

    // let promise4 = new Promise(function (resolve, reject) {
    //   console.log('请求1 ing');
    //   setTimeout(() => {
    //     // let a = true;
    //     let a = false;
    //     if (a) {
    //       resolve();
    //     }
    //     else {
    //       reject();
    //     }
    //   }, 2000);
    // }).then(function () {
    //   console.log('请求1成功');
    //   return new Promise(function (resolve, reject) {
    //     console.log('请求2 ing');
    //     setTimeout(() => {
    //       let a = true;
    //       if (a) {
    //         resolve();
    //       }
    //       else {
    //         reject();
    //       }
    //     }, 2000);
    //   })
    // }, function(){
    //    console.log('请求1失败');
    //    return new Promise(()=>{})
    // }).then(function(){
    //   console.log('请求2成功');
    // }).catch(function(){
    //   console.log('请求2失败');
    // })

    // let p1 = new Promise((resolve, reject) => {
    //   setTimeout(() => {
    //     console.log('p11111');
    //     resolve();
    //   }, 1000);
    // })

    // let p2 = new Promise((resolve, reject) => {
    //   setTimeout(() => {
    //     console.log('p22222');
    //     resolve();
    //   }, 2000);
    // })

    // let p3 = new Promise((resolve, reject) => {
    //   setTimeout(() => {
    //     console.log('p333333');
    //     resolve();
    //   }, 3000);
    // })

    // // Promise.all([p1,p2,p3]).then(() => {
    // //   console.log('okkkkkkkkk');
    // // })

    // Promise.race([p1, p2, p3]).then(() => {
    //   console.log('oooooooook');
    // })

    function getData(url) {
      return new Promise((resolve, reject) => {
        $.get(url, function (res) {
          resolve(res);
        })
      })
    }

    getData('./data/a.json').then((res) => {
      console.log(res);
      return getData('./data/b.json');
    }).then((res) => {
      console.log(res);
      return getData('./data/c.json');
    }).then((res) => {
      console.log(res);
    })

    











  </script>
</body>

</html>